{% load static %}

<header class="section-header">
  <section class="header-main border-bottom">
    <div class="container">
      <div class="row align-items-center">
        <!-- Logo -->
        <div class="col-lg-2 col-md-3 col-6">
          <a
            href="{% url 'home' %}"
            class="brand-wrap text-primary font-weight-bold"
            style="font-size: 24px; font-family: 'Segoe UI', sans-serif"
          >
            AWAZ
          </a>
        </div>
       <!-- Search Bar -->
        <div class="col-lg-6 col-md-5 mt-2 mt-md-0 ml-auto">
          {% if user.user_type == 'user' %}
            <form action="{% url 'search' %}" method="get">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control"
                  name="q"
                  placeholder="Search"
                  required
                />
                <div class="input-group-append">
                  <button class="btn btn-primary" type="submit">
                    <i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </form>
          
          {% elif user.user_type == 'admin' %}
            <form action="{% url 'admin_search' %}" method="get">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control"
                  name="q"
                  placeholder="Search"
                  required
                />
                <div class="input-group-append">
                  <button class="btn btn-primary" type="submit">
                    <i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </form>
          
          {% elif user.user_type == 'municipality' %}
            <form action="{% url 'dashboard_search' %}" method="get">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control"
                  name="q"
                  placeholder="Search"
                  required
                />
                <div class="input-group-append">
                  <button class="btn btn-primary" type="submit">
                    <i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </form>
          {% endif %}
        </div>
        <!-- Sign In / Register -->
        <div class="col-lg-3 col-sm-6 col-8 text-right">
          <div class="widget-header">
            {% if user.is_authenticated %}
            <small class="title text-muted"
              >Welcome {{ user.username }}</small
            >
            <div>
              {% if user.user_type == 'user' %}
              <a href="{% url 'post_complaint' %}">Complain</a>
              <span class="dark-transp"> | </span>
              <a href="{%url 'my_profile'%}">My Profile</a>
              <span class="dark-transp"> | </span>
              <a href="{% url 'logout' %}">Logout</a>
              {% elif user.user_type == 'municipality' %}
              <a href="{% url 'municipality_dashboard' %}">Dashboard</a>
              <span class="dark-transp"> | </span>
              <a href="{%url 'my_profile'%}">My Profile</a>
              <span class="dark-transp"> | </span>
              <a href="{% url 'logout' %}">Logout</a>
              {% elif user.user_type == 'admin' %}
              <a href="{% url 'admin_dashboard' %}">Dashboard</a>
              <span class="dark-transp"> | </span>
              <a href="{% url 'user_details' %}">User Details</a>
              <span class="dark-transp"> | </span>
              <a href="{% url 'logout' %}">Logout</a>
              {% else %}
              <!-- fallback for unknown role -->
              <a href="{% url 'logout' %}">Logout</a>
              {% endif %}
            </div>
            {% else %}
            <small class="title text-muted">Welcome guest!</small>
            <div>
               <a href="{% url 'post_complaint' %}">Create Post</a>
              <span class="dark-transp"> | </span>
              <a href="{% url 'login' %}">Sign in</a>
              <span class="dark-transp"> | </span>
              <a href="{% url 'register' %}">Register</a>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
      <!-- row.// -->
    </div>
    <!-- container.// -->
  </section>
</header>
